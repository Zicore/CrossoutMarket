@using System.Net
@using Crossout.Model.Items
@using System.Globalization;
@{
    Layout = "_Layout";
}

@model Crossout.AspWeb.Controllers.TrendModel

<partial name="header" model="@Model" />

<div class="half-hd-container px-3">
    <div class="card my-1">
        <div class="d-flex justify-content-center">
            <h3>@Model.TimeA.ToString() UTC vs. @Model.TimeB.ToString() UTC</h3>
        </div>

        <table id="trendTable" class="table table-striped table-borderless table-hover">
            <thead>
                <tr>
                    <th>
                        Item ID
                    </th>
                    <th>
                        Sell A
                    </th>
                    <th>
                        Sell B
                    </th>
                    <th>
                        Difference
                    </th>
                </tr>
            </thead>

            <tbody>
                @foreach (var trendItem in Model.Trends)
                {
                    <tr>
                        <td>
                            <a href="/item/@(trendItem.Id)"><img src="~/img/items/@(trendItem.Id).png" width="64" height="64" /></a>
                        </td>
                        <td>
                            @string.Format(CultureInfo.InvariantCulture, "{0:0.00}", trendItem.SellA / 100m) <img height="14" src="~/img/Coin.png" />
                        </td>
                        <td>
                            @string.Format(CultureInfo.InvariantCulture, "{0:0.00}", trendItem.SellB / 100m) <img height="14" src="~/img/Coin.png" />
                        </td>
                        <td>
                            @string.Format(CultureInfo.InvariantCulture, "{0:0.00}", trendItem.SellTrend)%
                        </td>
                    </tr>
                }
            </tbody>
        </table>
    </div>
</div>

<script>
    $(document).ready(function () {
        $('#trendTable').DataTable();
    });
</script>