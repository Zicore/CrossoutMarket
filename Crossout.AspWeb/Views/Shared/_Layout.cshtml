@using Crossout.Web.Helper
@model Crossout.Web.Models.View.IViewTitle
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="Crossout Market Prices, Graphs and Crafting Calculator">
    <meta name="keywords" content="CrossoutDB,Crossout,Crossout Market,Crafting,Calculator,Market,Graphs,Diagramm">
    <meta name="author" content="Zicore & Stiffi">

    <link rel="icon" type="image/x-icon" href="~/favicon.ico">

    <!-- Bootstrap -->
    @*<link href="~/content/bootstrap.min.css" rel="stylesheet">
        <link href="~/content/bootstrap-theme.min.css" rel="stylesheet">*@

    <link href="~/content/style.css" rel="stylesheet">

    @*<script src="~/scripts/jquery-2.1.3.min.js" type="text/javascript"></script>*@
    <script src="~/lib/jquery/dist/jquery.min.js"></script>
    <script src="~/scripts/js.cookie.js"></script>

    @*<script src="~/scripts/bootstrap.js" type="text/javascript"></script>*@
    @*Custom Bootstrap*@
    <link href="~/css/bootstrap.custom.min.css" rel="stylesheet">
    <script src="~/lib/bootstrap/dist/js/bootstrap.min.js"></script>

    @*<script src="~/scripts/highstock/highstock.js"></script>*@
    <script src="https://code.highcharts.com/stock/highstock.js"></script>
    <script src="https://code.highcharts.com/modules/exporting.js"></script>
    <script src="https://code.highcharts.com/modules/export-data.js"></script>


    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-select/1.12.2/css/bootstrap-select.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-select/1.12.2/js/bootstrap-select.min.js"></script>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.19.1/moment.min.js"></script>
    <script>
        // Get server time to local time offset
        utcToLocalTimeOffset = moment().utcOffset();
        totalUnixOffset = utcToLocalTimeOffset * 60 * 1000;

        function adjustTimeStamp() {
            $('.item-timestamp').each(function (i, element) {
                $(element).text(function (i, text) {
                    var unixtimestamp = moment(text, 'YYYY-MM-DD HH:mm:ss').format('x');
                    var adjustedtimestamp = parseInt(unixtimestamp) + totalUnixOffset;
                    var newText = moment(adjustedtimestamp, 'x').format('YYYY-MM-DD HH:mm:ss');
                    return newText;
                });
            });
        };
    </script>

    @* DataTables *@
    <link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/v/bs4/jszip-2.5.0/dt-1.10.20/b-1.6.1/b-colvis-1.6.1/b-html5-1.6.1/r-2.2.3/datatables.min.css" />
    <script type="text/javascript" src="https://cdn.datatables.net/v/bs4/jszip-2.5.0/dt-1.10.20/b-1.6.1/b-colvis-1.6.1/b-html5-1.6.1/r-2.2.3/datatables.min.js"></script>
    @*<link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/v/bs/jq-2.2.4/dt-1.10.15/b-1.3.1/b-html5-1.3.1/datatables.min.css" />*@
    @*<link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/buttons/1.3.1/css/buttons.bootstrap.min.css" />*@
    @*<script type="text/javascript" src="https://cdn.datatables.net/v/bs/jq-2.2.4/jszip-3.1.3/dt-1.10.15/b-1.3.1/b-html5-1.3.1/datatables.min.js"></script>*@

    @*Lazyload: https://github.com/verlok/lazyload*@
    <script src="https://cdn.jsdelivr.net/npm/intersection-observer@0.7.0/intersection-observer.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/vanilla-lazyload@12.4.0/dist/lazyload.min.js"></script>
    <script>
        var lazyLoadInstance = new LazyLoad({ elements_selector: ".lazy" });
    </script>

    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->


    <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
    <script>
        (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-1215488197322962",
            enable_page_level_ads: true
        });
    </script>


    <title>@ViewHelper.GenerateTitle(Model)</title>

</head>
<body>

    @RenderBody()
    <partial name="footer" />

    <button class="btn btn-secondary d-none" onclick="topFunction()" id="topButton" title="Go to top">Top</button>

    <script>
        window.twttr = (function (d, s, id) {
            var js, fjs = d.getElementsByTagName(s)[0],
                t = window.twttr || {};
            if (d.getElementById(id)) return t;
            js = d.createElement(s);
            js.id = id;
            js.src = "https://platform.twitter.com/widgets.js";
            fjs.parentNode.insertBefore(js, fjs);

            t._e = [];
            t.ready = function (f) {
                t._e.push(f);
            };

            return t;
        }(document, "script", "twitter-wjs"));
    </script>


    <script>
        (function (i, s, o, g, r, a, m) {
            i['GoogleAnalyticsObject'] = r; i[r] = i[r] || function () {
                (i[r].q = i[r].q || []).push(arguments)
            }, i[r].l = 1 * new Date(); a = s.createElement(o),
                m = s.getElementsByTagName(o)[0]; a.async = 1; a.src = g; m.parentNode.insertBefore(a, m)
        })(window, document, 'script', 'https://www.google-analytics.com/analytics.js', 'ga');

        ga('set', 'anonymizeIp', true);
        ga('create', 'UA-85172332-1', 'auto');
        ga('send', 'pageview');

    </script>

    <script>
        lazyLoadInstance.update();
    </script>

    <script>
        var topButton = $('#topButton');

        // When the user scrolls down 20px from the top of the document, show the button
        window.onscroll = function () { scrollFunction() };

        function scrollFunction() {
            if (document.body.scrollTop > 20 || document.documentElement.scrollTop > 20) {
                topButton.removeClass('d-none');
            } else {
                topButton.addClass('d-none');
            }
        }

        function topFunction() {
            document.body.scrollTop = 0; // For Safari
            document.documentElement.scrollTop = 0; // For Chrome, Firefox, IE and Opera
        }
    </script>
</body>
</html>
